# Porxy

**ç›¸æ¯”äº setter å’Œ getter çš„ä¼˜ç‚¹**

1. å¯ä»¥æ‹¦æˆªå¯¹è±¡åŸæ¥æ²¡æœ‰çš„å±æ€§çš„å†™æ“ä½œ

**ç‰¹ç‚¹**

1. ä¸ä¼šæ‹¦æˆªå¯¹åŸå§‹å¯¹è±¡çš„æ“ä½œï¼Œåªæ‹¦æˆªå¯¹ä»£ç†å¯¹è±¡çš„æ“ä½œ

https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy

# reactive å®ç°

**åŸºæœ¬æ€è·¯**

1. ä»£ç†å¯¹è±¡çš„è¯»æ“ä½œï¼Œæ·»åŠ è®¢é˜…ï¼Œä»£ç†å¯¹è±¡çš„å†™æ“ä½œï¼Œå‘å¸ƒæ›´æ–°ï¼Œç±»ä¼¼å‘å¸ƒè®¢é˜…æ¨¡å¼

**ç²¾ç¡®æ›´æ–°**

â€‹	æ€è·¯ï¼šç”¨ä¸€ä¸ªæ•°ç»„ä¿å­˜å›è°ƒé‡Œå°†ä¼šç”¨åˆ°çš„ key

1. å›è°ƒè§¦å‘å‰æ¸…ç©ºæ­¤æ•°ç»„
2. è§¦å‘å›è°ƒ
3. ä»£ç†å¯¹è±¡çš„è¯»æ“ä½œï¼Œå°†ç”¨åˆ°çš„ key æ·»åŠ è¿›æ­¤æ•°ç»„
4. ä»…å¯¹ç”¨åˆ°çš„ key æ·»åŠ è®¢é˜…ï¼Œç”¨ Map å®ç°
5. å¯¹è±¡è¿›è¡Œå†™æ“ä½œæ—¶ï¼Œå‘å¸ƒå¯¹åº” key çš„æ›´æ–°

> 1. âœ”å¦‚æœä¸ä½¿ç”¨ Map å¯ä»¥å°è¯•ç”¨å¯¹è±¡å®ç°ï¼Œæ€è·¯ï¼šä¿®æ”¹å¯¹è±¡çš„ toString æ–¹æ³•ï¼Œåªè¦èƒ½åŒºåˆ†å¯¹è±¡å³å¯
> 2. âœ”ä¿å­˜å‘å¸ƒè€…ä¸Šæ¬¡çš„å€¼ï¼Œå€¼æ²¡æ”¹å˜å°±ä¸ç”¨å‘å¸ƒæ›´æ–°äº†
> 3. âœ”æ¯æ¬¡è®¿é—®å­å¯¹è±¡æ—¶ï¼Œéƒ½ä¼šè¿”å›æ–°çš„å­å¯¹è±¡ä»£ç†ï¼Œä½¿ç”¨ weakMap ä¿å­˜ï¼Œé¿å…é‡å¤åˆ›å»ºä»£ç†å¯¹è±¡
> 4. âœ”ä»£ç ä¸­è®¢é˜…å¯èƒ½ä¼šé‡å¤æ·»åŠ ï¼Œ~~å¯ä»¥å°†ä¿å­˜å›è°ƒå‡½æ•°çš„æ•°ç»„æ”¹ä¸º Set~~
>    åœ¨ä¿å­˜å›è°ƒå‡½æ•°çš„æ•°ç»„ä¸­åšé™åˆ¶ä¼šå¿½ç•¥ä¸¤ä¸ªç›¸åŒçš„ effect çš„è®¢é˜…ï¼ŒâŒæš‚æ—¶è¿˜ä¸æ¸…æ¥šä¸¤ä¸ªç›¸åŒçš„ effect æœ‰æ— æ„ä¹‰
>    æœ€ç»ˆåªé™åˆ¶äº†æ”¶é›†ä¾èµ–çš„æ•°ç»„
> 5. âœ”æ”¶é›†ä¾èµ–çš„è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå‘å¸ƒæ›´æ–°ï¼Œå¯¼è‡´æ”¶é›†åˆ°æ›´å¤šçš„ä¾èµ–
>    âŒæš‚æ—¶æ— æ³•ç¡®å®šæ˜¯å¦è¦å¿½ç•¥è¿™äº›ä¾èµ–ï¼Œä½†ä¸å¿½ç•¥ä¼šé€ æˆå¾ªç¯æ›´æ–°ï¼Œæœ€ç»ˆå¯¼è‡´æ ˆæº¢å‡º
> 6. âŒå‘å¸ƒè®¢é˜…æ—¶å¯ä»¥ä½¿ç”¨ Set ç¼“å­˜å›è°ƒå‡½æ•°ï¼Œè¿‡æ»¤æ‰é‡å¤çš„ effectï¼Œæœ€åä½¿ç”¨å¾®ä»»åŠ¡ç»Ÿä¸€æ›´æ–°ï¼Œæš‚æ—¶è¿˜ä¸æ¸…æ¥šæ˜¯å¦ä¼šå¯¼è‡´æœ€ç»ˆæ•°æ®ä¸å¯¹ï¼Œæœªå®ç°
> 7. âŒå¯¹è±¡æˆ–è€…å¯¹è±¡å±æ€§é”€æ¯æ—¶ï¼Œç›¸å…³è®¢é˜…åº”è¯¥å–æ¶ˆæ‰ã€‚æš‚æ—¶è¿˜ä¸æ¸…æ¥šåº”ç”¨åœºæ™¯ï¼Œæ²¡å®ç°æ€è·¯ï¼Œæœªå®ç°

[vue/vue.esm.browser.js at dev Â· vuejs/vue (github.com)](https://github.com/vuejs/vue/blob/dev/dist/vue.esm.browser.js#L1066)

[vue-next/packages/reactivity/src at master Â· vuejs/vue-next (github.com)](https://github.com/vuejs/vue-next/tree/master/packages/reactivity/src) ğŸ´

# Range

â€‹	range å¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ“ä½œæ–‡æœ¬èŠ‚ç‚¹ ( nodeType : 3 )ï¼Œå¦å¤– Selection Api  è¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ª range

```typescript
document.getSelection().getRangeAt(0).toString()
dom.onselectstart
```

â€‹	https://developer.mozilla.org/en-US/docs/Web/API/Range

â€‹	https://developer.mozilla.org/en-US/docs/Web/API/Selection_API

# æ˜“å¿½ç•¥çŸ¥è¯†ç‚¹

1. å¯¹äº Dom èŠ‚ç‚¹çš„æ’å…¥ï¼Œå¦‚æœæ’å…¥çš„å…ƒç´ å·²ç»åœ¨ Dom Tree ä¸Šå­˜åœ¨ï¼Œåˆ™ä¼šå°†æ­¤èŠ‚ç‚¹ä»åŸæ¥çš„ä½ç½®åˆ é™¤ï¼Œå†æ’å…¥åˆ°æŒ‡å®šä½ç½®ã€‚è¿™ä¸€è¿‡ç¨‹ç±»ä¼¼äºç§»åŠ¨
2. å¯ä»¥ä½¿ç”¨ Selection Api çš„ selectstart äº‹ä»¶é…åˆ preventDefault å®ç°ç¦æ­¢æ–‡æœ¬é€‰æ‹©çš„åŠŸèƒ½ï¼Œç±»ä¼¼äº CSS ä¸­çš„ user-select:none