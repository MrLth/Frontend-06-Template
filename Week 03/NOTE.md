# æ­£åˆ™è¡¨è¾¾å¼ 

1. **`g`** å’Œ  **`regExpObj.lastIndex`**

   - åªæœ‰å¯¹ regExpObj è®¾ç½® g æ—¶ï¼ŒlastIndex å±žæ€§æ‰æœ‰æ•ˆï¼Œå¦åˆ™ lastIndex å§‹ç»ˆä¸º 0ã€‚
   - lastIndex ä¸æ˜¯åªè¯»çš„ï¼Œæ›´æ”¹å®ƒçš„å€¼å¯ä»¥æ”¹å˜ regExpObj çš„ä¸‹æ¬¡æ­£åˆ™åŒ¹é…çš„èµ·å§‹ä½ç½®
   - åŒ¹é…å¤±è´¥æ—¶ï¼ŒlastIndedx ä¹Ÿå°†ä¸º 0

   ```typescript
   const reg = /abc/g
   reg.exec('123abc') // ['abc'...]
   reg.lastIndex // 6
   reg.exec('abc123') // null
   reg.lastIndex // 0
   reg.exec('abc123') // ['abc'...]
   ```

2.  **`sticky`** æ ‡å¿—å’Œ **`global`** æ ‡å¿—çš„ä¸åŒç‚¹
   å¦‚æžœæ­£åˆ™è¡¨è¾¾å¼æœ‰ç²˜æ€§ `y` æ ‡å¿—ï¼Œä¸‹ä¸€æ¬¡åŒ¹é…ä¸€å®šåœ¨ `lastIndex` ä½ç½®å¼€å§‹ï¼›å¦‚æžœæ­£åˆ™è¡¨è¾¾å¼æœ‰å…¨å±€ `g` æ ‡å¿—ï¼Œä¸‹ä¸€æ¬¡åŒ¹é…å¯èƒ½åœ¨ `lastIndex` ä½ç½®å¼€å§‹ï¼Œä¹Ÿå¯èƒ½åœ¨è¿™ä¸ªä½ç½®çš„åŽé¢å¼€å§‹

3. éžæ ‡å‡†å±žæ€§ï¼Œä»¥åŽå°½é‡ä¸è¦ä½¿ç”¨

   ```typescript
   RegExp.$1-$9
   RegExp.lastMatch
   ```

4. `$1-$99` ä½¿ç”¨å…ˆå‰çš„åŒ¹é…

   ```typescript
   let re = /(\w+)\s(\w+)/;
   let str = "John Smith";
   let newstr = str.replace(re, "$2, $1");
   console.log(newstr); // "Smith John"
   ```

# Generator é…åˆ for of (iterator)

**ç›¸æ¯”ç›´æŽ¥è¿”å›žæ•°ç»„çš„ä¼˜ç‚¹**

1. ç”Ÿæˆå™¨ä¼šæŒ‰éœ€è®¡ç®—å®ƒä»¬çš„äº§ç”Ÿå€¼ï¼Œè¿™ä½¿å¾—å®ƒä»¬èƒ½å¤Ÿæœ‰æ•ˆçš„è¡¨ç¤ºä¸€ä¸ªè®¡ç®—æˆæœ¬å¾ˆé«˜çš„åºåˆ—ï¼Œç”šè‡³æ˜¯ä¸€ä¸ªæ— é™åºåˆ—
2. é€»è¾‘è§£è€¦

**åŸºç¡€ç”¨æ³•**

```typescript
Object.prototype[Symbol.iterator] = function* (){
  for (const item of Object.entries(this)){
    yield item
  }
}

// for of
for (const [k,v] of {a:1,b:2}){
  ...
}
// ...
[...{a:1, b:2}] // [[a,1],[b,2]]

```

# ä½¿ç”¨ LL ç®—æ³•æž„å»º AST

## 1. åè¯è§£é‡Š

- **AST :** Abstract Syntax Tree æŠ½è±¡è¯­æ³•æ ‘

- **LL(1) :**
  1. ç¬¬ä¸€ä¸ª L : left to righ ä»Žå·¦åˆ°å³çš„é¡ºåºå¤„ç†è¾“å…¥çš„ token åºåˆ—
  2. ç¬¬äºŒä¸ª L : leftmost derivation ä»Žæ–‡æ³•çš„æœ€å·¦è¾¹å¼€å§‹è¿›è¡ŒæŽ¨å¯¼
  3. (1) : å‘å‰æŽ¢æµ‹ 1 ä¸ª token æ¥é¢„æµ‹è§£æžçš„æ–¹å‘
- **BNF** è¯­æ³•æ ¼å¼æè¿°è§„èŒƒ [ðŸ´ ](https://www.jianshu.com/p/15efcb0c06c8)

## 2. æž„å»º AST æ­¥éª¤

1. åˆ†è¯ï¼Œå³è¯æ³•åˆ†æž
2. è¯­æ³•åˆ†æž

## 3. æž„å»ºå››åˆ™è¿ç®—çš„ AST

### 3.1 äº§ç”Ÿå¼/è¯­æ³•æ ¼å¼æè¿°

1. ç»ˆç»“ç¬¦
   - æ•°å­—ï¼šn
   - è¿ç®—ç¬¦ï¼ˆ+ã€-ã€*ã€/ï¼‰
   - ~~æ‹¬å·~~
2. éžç»ˆç»“ç¬¦
   - è¡¨è¾¾å¼ï¼šE
   - é¡¹ï¼šT
   - å› å­ï¼šF
3. èµ·å§‹ç¬¦å·ï¼šS
4. äº§ç”Ÿå¼

```typescript
S -> E

E -> E + T
E -> E - T
E -> T

T -> T * F
T -> T / F
T -> F

F -> n
// F -> (E)
```

<img src="https://s3.ax1x.com/2020/11/13/Dp1N0f.jpg" style="zoom:33%;" />

